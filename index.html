<!DOCTYPE html>
<html lang="fr"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <meta name="author" content="Francis Duval, Chercheur Scientifique | Recherche et Innovation Analytique">
  <title>Lâ€™intelligence dâ€™affaires chez Co-operators</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto-28eafc3999ee829c375161a4b622e95f.css">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block title-slide-theme-1 center">
  <h1 class="title">Lâ€™intelligence dâ€™affaires chez Co-operators</h1>
  <p class="subtitle">PrÃ©sentation dans le cadre du cours Â« Applications probabilistes des risques actuariels Â»</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Francis Duval, Chercheur Scientifique | Recherche et Innovation Analytique 
</div>
<div class="quarto-title-author-email">
<a href="mailto:francis_duval@cooperators.ca">francis_duval@cooperators.ca</a>
</div>
</div>
</div>

  <p class="date">7 octobre 2025</p>

</section>
<section id="mon-parcours" class="slide level2">
<h2>Mon parcours</h2>
<h3 id="acadÃ©mique">AcadÃ©mique</h3>
<div class="columns">
<div class="column" style="width:33%;">
<p><span class="three-green-blocks">BaccalaurÃ©at</span></p>
<div style="height:70px;">

</div>
<div class="ul-font-size-small">
<ul>
<li><strong>Actuariat</strong></li>
<li>2 stages chez Intact</li>
<li>Session Ã  lâ€™Ã©tranger Ã  Lyon</li>
</ul>
</div>
</div><div class="column" style="width:33%;">
<p><span class="three-green-blocks">Maitrise</span></p>
<div style="height:70px;">

</div>
<div class="ul-font-size-small">
<ul>
<li><strong>MathÃ©matiques actuarielles et financiÃ¨res</strong></li>
<li>MÃ©moire: Techniques de gradient boosting pour la modÃ©lisation des rÃ©serves individuelles en assurance non-vie</li>
<li>Stage de recherche Mitacs chez Desjardins</li>
</ul>
</div>
</div><div class="column" style="width:33%;">
<p><span class="three-green-blocks">Doctorat</span></p>
<div style="height:70px;">

</div>
<div class="ul-font-size-small">
<ul>
<li><strong>MathÃ©matiques</strong></li>
<li>ThÃ¨se: ModÃ©lisation des sinistres en assurance automobile avec lâ€™utilisation de donnÃ©es tÃ©lÃ©matiques : approches dâ€™apprentissage automatique en classification et rÃ©gression de comptage</li>
<li>Chaire Co-operators en analyse des risques actuariels</li>
</ul>
</div>
</div></div>
<h3 id="professionel">Professionel</h3>
<ul>
<li>Chercheur scientifique dans lâ€™Ã©quipe Â« Recherche et Innovation Analytique Â» depuis septembre 2023.</li>
</ul>
<aside class="notes">
<ul>
<li><p>BaccalaurÃ©at en Actuariat, oÃ¹ jâ€™ai eu 2 stages en assurance de dommages chez Intact.</p></li>
<li><p>Session Ã  lâ€™Ã©tranger Ã  lâ€™Institut de Science FinanciÃ¨re et dâ€™Assurance (ISFA).</p></li>
<li><p>Ensuite, jâ€™ai fait une maitrise en mathÃ©matiques actuarielles et financiÃ¨re, toujours Ã  lâ€™UQAM.</p></li>
<li><p>Jâ€™ai eu la chance durant ma maitrise de faire un stage de recherche Mitacs chez Desjardins. Mitacs est un organisme de recherche sans but lucratif qui offre des bourses de recherche, notamment pour des stages en entreprise.</p></li>
<li><p>Durant ce stage chez Desjardins, jâ€™ai dÃ©veloppÃ© un modÃ¨le dâ€™Ã©valuation des rÃ©serves en utilisant un algorithme de gradient boosting. Câ€™est un modÃ¨le de rÃ©serve au niveau individuel, câ€™est-Ã -dire que contrairement Ã  des modÃ¨les comme Chain-Ladder, on a essayer de prÃ©dire un montant pour chaque rÃ©clamation, de maniÃ¨re individuelle.</p></li>
<li><p>Ce qui Ã©tait bien avec ce stage, câ€™est que le modÃ¨le que jâ€™ai dÃ©veloppÃ© a servi pour mon mÃ©moire de maitrise, et jâ€™ai mÃªme publiÃ© un article avec Mathieu Pigeon. Donc câ€™est faire dâ€™une pierre deux coups.</p></li>
<li><p>Suite Ã  ma maitrise, jâ€™ai eu une offre de Jean-Philippe et Mathieu Pigeon pour continuer mes Ã©tudes au sein de la Chaire CARA, qui venait tout juste dâ€™Ãªtre mise sur pieds. Comme jâ€™avais aimÃ© mon expÃ©rience de recherche Ã  la maitrise, et que je trouvais que lâ€™UQAM offrait une solide expertise en assurance de dommages avec des professeurs comme Jean-Philippe et Mathieu en plus du partenariat avec Co-operators, jâ€™ai dÃ©cidÃ© de commencer un doctorat. De plus, le financement Ã©tait excellent.</p></li>
<li><p>Jâ€™ai fait ce quâ€™on appelle une thÃ¨se par article, qui consiste en 3 articles sur le mÃªme thÃ¨me. Les articles sont ensuite mis ensemble pour constituer la thÃ¨se.</p></li>
<li><p>Ma thÃ¨se portait sur la modÃ©lisation des sinistres en assurance automobile avec des mÃ©thodes de machine learning utilisant des donnÃ©es tÃ©lÃ©matiques.</p></li>
<li><p>Et depuis maintenant 2 ans, je suis chercheur scientifique dans lâ€™Ã©quipe de Recherche et Innovation Analytique chez Co-operators, oÃ¹ jâ€™ai dÃ©jÃ  eu lâ€™occasion de travailler sur plusieurs projets.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section>
<section id="introduction-Ã -lassurance-de-dommages-lintelligence-daffaires-et-co-operators" class="title-slide slide level1 center">
<h1>1. Introduction Ã  lâ€™assurance de dommages, lâ€™intelligence dâ€™affaires, et Co-operators</h1>

</section>
<section id="assurance-de-dommage" class="slide level2">
<h2>Assurance de dommage</h2>
<ul>
<li>Aussi appelÃ©e Â« assurance IARD Â» (Incendie, Accidents et Risques Divers) câ€™est un type dâ€™assurance qui protÃ¨ge les <strong>individus</strong> et les <strong>entreprises</strong> contre les pertes financiÃ¨res liÃ©es Ã  leurs <strong>biens</strong> et Ã  leur <strong>responsabilitÃ©</strong> pour les dommages quâ€™ils peuvent causer Ã  autrui.</li>
<li>En anglais, <strong>Property &amp; Casualty (P&amp;C) insurance</strong> (property = Â« biens Â», casualty = Â« responsabilitÃ© Â»).</li>
</ul>
<div style="height:30px;">

</div>
<div class="columns">
<div class="column" style="width:48%;">
<p><span class="two-blue-blocks">Biens</span></p>
<div style="height:70px;">

</div>
<div class="ul-font-size-medium">
<ul>
<li>Assurance habitation: protÃ¨ge contre les incendies, vols, catastrophes naturelles, etc.</li>
<li>Assurance automobile: protÃ¨ge contre les dommages au vÃ©hicule pour collision, incendies, vols, vandalisme, etc.</li>
<li>Assurance de biens commerciaux: protÃ¨ge le bÃ¢timent, le contenu, etc.</li>
</ul>
</div>
</div><div class="column" style="width:48%;">
<p><span class="two-blue-blocks">ResponsabilitÃ©</span></p>
<div style="height:70px;">

</div>
<div style="padding-left:0px;">
<div class="ul-font-size-medium">
<ul>
<li>Assurance responsabilitÃ© civile: protÃ¨ge contre la responsabilitÃ© pour les blessures ou les dommages quâ€™ils peuvent causer Ã  autrui</li>
</ul>
</div>
</div>
</div></div>
<aside class="notes">
<ul>
<li>En gros, lâ€™assurance de dommages est tout ce qui nâ€™est pas de lâ€™assurance vie ni de lâ€™assurance collective!</li>
<li>Aussi appelÃ©e Â« assurance IARD Â», ou Â« property &amp; casualty Â» en anglais.</li>
<li>Le property, câ€™est pour les biens. Donc lâ€™assurance de nâ€™importe quel objet appartenant Ã  lâ€™assurÃ©, que ce soit une voiture, une maison, etc.</li>
<li>Le casualty, câ€™est la responsabilitÃ©. Ã‡a protÃ¨ge contre la responsabilitÃ© pour les blessures ou les dommages causÃ© Ã  autrui.</li>
<li>Par exemple, vous Ãªtes obligÃ©, lorsque vous conduisez une voiture au QuÃ©bec, dâ€™avoir une assurance responsabilitÃ© civile. Ã‡a vous protÃ¨ge lorsque vous avez un accident responsable et que vous avez causÃ© des blessures Ã  quelquâ€™un ou des dommages Ã  ses biens.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="assurance-de-dommage-1" class="slide level2">
<h2>Assurance de dommage</h2>
<h3 id="quest-ce-quon-fait-en-assurance-de-dommage">Quâ€™est-ce quâ€™on fait en assurance de dommage?</h3>
<div class="columns">
<div class="column" style="width:48%;">
<p><span class="two-green-blocks">RÃ´les Â« traditionnels Â»</span></p>
<div style="height:70px;">

</div>
<ul>
<li>Tarification
<ul>
<li>IndiquÃ©s</li>
<li>Segmentation</li>
</ul></li>
<li>Ã‰valuation des rÃ©serves
<ul>
<li>IBNR (<em>Incurred But Not Reported</em>)</li>
<li>RBNS (<em>Reported But Not Settled</em>)</li>
</ul></li>
<li>RÃ©assurance</li>
</ul>
</div><div class="column" style="width:48%;">
<p><span class="two-green-blocks">RÃ´les Â« non-traditionnels Â»</span></p>
<div style="height:70px;">

</div>
<div style="padding-left:0px;">
<ul>
<li>Intelligence dâ€™affaires</li>
<li>Analytique des rÃ©clamations</li>
<li>Analytique de la souscription</li>
</ul>
</div>
</div></div>
<aside class="notes">
<ul>
<li><p>Les rÃ´les peuvent Ãªtre sÃ©parÃ©s en rÃ´les traditionnels et non-traditionnels.</p></li>
<li><p>Les rÃ´les traditionnels sont ceux quâ€™on associe plus naturellement au mot Â« actuariat Â».</p></li>
<li><p>Les rÃ´les traditionnels sont le plus souvent occupÃ©s par des actuaires, tandis que les rÃ´les non-traditionnels peuvent Ãªtre occupÃ©s par des actuaires, mais aussi par des scientifiques de donnnÃ©es, des programmeurs, etc.</p></li>
<li><p>Dans les rÃ´les traditionnels, on a la tarification, qui se sÃ©pare en 2 tÃ¢ches. La premiÃ¨re sont les indiquÃ©s (<em>rate indication</em>), oÃ¹ il faut estimer le montant total des rÃ©clamations quâ€™on aura Ã  payer lâ€™an prochain. Ã‡a sert Ã  dÃ©terminer le pourcentage dâ€™augmentation globale des taux.</p></li>
<li><p>La deuxiÃ¨me tÃ¢che est la segmentation, qui consiste Ã  Ã©valuer le risque associÃ© Ã  chaque groupe dâ€™assurÃ©s pour fixer des primes dâ€™assurance qui rÃ©flÃ¨te leur niveau de risque. Cette Ã©tape est importante pour contrer lâ€™anti-sÃ©lection.</p></li>
<li><p>On a aussi lâ€™Ã©valuation des rÃ©serves. Ã‡a consiste Ã  estimer le montant Ã  mettre de cÃ´tÃ© pour des rÃ©clamations qui sont arrivÃ©es mais qui nâ€™ont pas Ã©tÃ© encore reportÃ©e Ã  lâ€™assureur, ou bien pour des rÃ©clamations qui sont reportÃ©es mais pas encore fermÃ©es.</p></li>
<li><p>Ensuite, on a la rÃ©assurance. Par exemple, on doit sâ€™assurer quâ€™on est capable de payer les rÃ©clamations en cas de catastrophe (par exemple, une catastrophe naturelle comme une inondation). Sinon, on devra peut-Ãªtre revoir nos contrats de rÃ©assurance.</p></li>
<li><p>Ensuite, il y a les rÃ´les Â« non-traditionnels Â».</p></li>
<li><p>Ce sont des rÃ´les oÃ¹ typiquement, la programmation est plus ominprÃ©sente. Chez Co-operators, on utilise beaucoup R et Python.</p></li>
<li><p>Ce sont des rÃ´les qui sont moins Â« actuariels Â», mais qui peuvent quand mÃªme Ãªtre occupÃ©s par des actuaires, Ã©tant donnÃ© quâ€™ils ont une bonne expertise en statistiques, en programmation.</p></li>
<li><p>Parmi ces rÃ´les, on a lâ€™intelligence dâ€™affaires, lâ€™analytique des rÃ©clamations et lâ€™analytique de la souscription.</p></li>
<li><p>Je dirais que lâ€™analytique des rÃ©clamations et lâ€™analytique de la souscription, Ã§a ressemble beaucoup Ã  lâ€™intelligence dâ€™affaires, sauf que câ€™est plus axÃ© sur optimiser le processus des rÃ©clamations et de la souscription.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="co-operators" class="slide level2">
<h2>Co-operators</h2>
<ul>
<li>CoopÃ©rative dâ€™assurance de dommage fondÃ©e en 1945 par un groupe de fermiers ğŸ§‘â€ğŸŒ¾</li>
</ul>
<p><strong>Notre mission</strong></p>
<ul>
<li>Assurer la sÃ©curitÃ© financiÃ¨re des Canadiennes et Canadiens et de nos collectivitÃ©s. Parce que nous sommes une coopÃ©rative, nos dÃ©cisions dâ€™affaires sont guidÃ©es par nos valeurs dâ€™inclusion et de dÃ©veloppement durable et responsable.</li>
</ul>
<p><strong>Exemples dâ€™engagements concrets</strong></p>
<ul>
<li>Investissements dans des fonds vertsğŸŒ³ğŸ’°</li>
<li>Assurance innondationğŸŒŠ</li>
<li>Programme Â« Build Back Better Â»ğŸ—ï¸</li>
<li>Programme de sÃ©chage lors de dÃ©gÃ¢ts dâ€™eau spÃ©cifiquesğŸ’§</li>
</ul>
<!-- ![](images/auto.svg){.absolute width=200 top=450 left=0} -->
<!-- ![](images/maison.svg){.absolute width=200 top=450 left=200} -->
<!-- ![](images/entreprise.svg){.absolute width=200 top=450 left=600} -->
<!-- ![](images/ferme.svg){.absolute width=200 top=450 left=800} -->
<!-- [Lignes personnelles]{.absolute top=650 left=100} -->
<!-- [Lignes commerciales]{.absolute top=650 left=700} -->
<aside class="notes">
<ul>
<li><p>Co-operators, câ€™est une coopÃ©rative dâ€™assurance de dommage fondÃ©e en 1945 par un groupe de fermiers qui ne trouvaient pas de produit dâ€™assurance convenable pour leurs fermes.</p></li>
<li><p>Exemple de dÃ©veloppement durable et responsable:</p>
<ul>
<li>Investissement dans des fonds verts.</li>
<li>Programme de Â« SÃ©chage Â» lors de dÃ©gÃ¢ts dâ€™eau spÃ©cifiques.</li>
<li>Assurance que les autres assureurs nâ€™offrent pas: inondations.</li>
<li>Programme Â« Build Back Better Â»: dans certains cas comme les tempÃªtes de grÃªles, on sâ€™engage Ã  rebÃ¢tir avec des matÃ©riaux rÃ©sistants Ã  une prochaine tempÃªte. On assume le cout additionel de reconstruction.</li>
</ul></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="quest-ce-que-lintelligence-daffaires" class="slide level2">
<h2>Quâ€™est-ce que lâ€™intelligence dâ€™affaires?</h2>
<h3 id="intelligence-daffaires-tirer-de-la-valeur-des-donnÃ©es">Intelligence dâ€™affaires = Tirer de la valeur des donnÃ©es</h3>
<p>Les donnÃ©es ne parlent pas dâ€™elles-mÃªmes: il faut les faire parler.</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:48%;">
<p><span class="two-blue-blocks">Avecâ€¦</span></p>
<div style="height:70px;">

</div>
<ul>
<li>Programmation R/Python (et autres)</li>
<li>Machine learning/Deep learning</li>
<li>Traitement de langage naturel</li>
<li>ThÃ©orie des valeurs extrÃªmes</li>
<li>ModÃ¨les de catastrophes</li>
<li>ModÃ¨les statistiques classiques</li>
<li>Etc.</li>
</ul>
</div><div class="column" style="width:48%;">
<p><span class="two-blue-blocks">â€¦on produit</span></p>
<div style="height:70px;">

</div>
<div style="padding-left:0px;">
<ul>
<li>ModÃ¨les</li>
<li>Tableaux de bord</li>
<li>Applications Shiny (ou autre)</li>
<li>Visualisations</li>
<li>Analyses statistiques</li>
<li>Etc.</li>
</ul>
</div>
</div></div>
<p><img data-src="images/dashboard.png" class="absolute" style="top: 0px; right: 0px; width: 200px; "></p>
<aside class="notes">
<ul>
<li>2 grands dÃ©partements chez Co-operators: Actuariat et Intelligence dâ€™Affaires. Quâ€™est-ce que lâ€™intelligence dâ€™affaires exactement?</li>
<li>La mission du dÃ©partement dâ€™intelligence dâ€™affaire est de tirer le plus de valeur possible des donnÃ©es.</li>
<li>Les donnÃ©es peuvent Ãªtre sous nâ€™importe quelle forme: donnÃ©es tabulaires, donnÃ©es textuelles, donnÃ©es temporelles, donnÃ©es dâ€™images, donnÃ©es gÃ©ospatiales, donnÃ©es audio, etc.</li>
<li>Par contre, les donnÃ©es ne parlent pas dâ€™elles-mÃªmes. Par exemple, on peut difficilement tirer des conclusions en observant Ã  lâ€™oeil une table de donnÃ©es. Il faut donc les faire Â« parler Â» en utilisant tous les moyens possibles: programmation, machine learning, deep learning, IA, thÃ©orie des valeurs extrÃªmes, et plusieurs autres modÃ¨les de toute sorte.</li>
<li>On produit alors des outils qui nous aident Ã  tirer profit des donnÃ©es et de prendre les bonnes dÃ©cisions, comme des modÃ¨les, des applications, des tableaux de bord, des visualisations, etc.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="exemple-de-projet" class="title-slide slide level1 center">
<h1>2. Exemple de projet</h1>
<aside class="notes">
<ul>
<li>Maintenant, je vais vous parler dâ€™un projet que jâ€™ai fait dans lâ€™Ã©quipe de recherche. Câ€™est en fait le premier projet qui mâ€™a Ã©tÃ© assignÃ© quand jâ€™ai commencÃ© Ã  tavailler.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sÃ©lecteur-de-codes-ibc" class="slide level2">
<h2>SÃ©lecteur de codes IBC</h2>
<h4 id="problÃ¨me-Ã -rÃ©soudre-en-assurance-commerciale">ProblÃ¨me Ã  rÃ©soudre en assurance commerciale</h4>
<div class="ul-font-size-small">
<ul>
<li>Lorsquâ€™on souscrit une police dâ€™assurance commerciale, on doit lui assigner un code parmi 1260 codes. Ã‰tant donnÃ©e une description dâ€™entreprise, on doit assigner le bon code.</li>
<li>Par exemple, quel code doit-on assigner Ã  lâ€™entreprise dÃ©crite par <span style="color: #FFFFFF; background-color: #007d57; border-radius: 5px; padding: 2px 5px;">Small place where they serve coffee and food such as pastries</span>?</li>
</ul>
</div>
<div class="fragment fade-in">
<h4 id="donnÃ©es">DonnÃ©es</h4>
</div>
<div class="fragment fade-in-then-out">
<div style="font-size: 25px; position: absolute; top: 315px; left: 0px;">
<p>IBC Codes</p>
<table class="caption-top">
<colgroup>
<col style="width: 14%">
<col style="width: 28%">
<col style="width: 57%">
</colgroup>
<thead>
<tr class="header">
<th>Index</th>
<th>IBC Code</th>
<th>IBC Code Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>0735a10</td>
<td>Architects - Landscaping Only</td>
</tr>
<tr class="even">
<td>2</td>
<td>8916a10</td>
<td>Engineers</td>
</tr>
<tr class="odd">
<td>3</td>
<td>8075a10</td>
<td>Sanitariums</td>
</tr>
<tr class="even">
<td>4</td>
<td>5813a10</td>
<td>Coffee shops (warming of food only, no roasting of beans)</td>
</tr>
<tr class="odd">
<td>â€¦</td>
<td>â€¦</td>
<td>â€¦</td>
</tr>
<tr class="even">
<td>1260</td>
<td>3496a10</td>
<td>Electronic games</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="fragment fade-in">
<div style="font-size: 25px; position: absolute; top: 315px; left: 0px;">
<p>Entreprises</p>
<table class="caption-top">
<colgroup>
<col style="width: 11%">
<col style="width: 44%">
<col style="width: 44%">
</colgroup>
<thead>
<tr class="header">
<th>Index</th>
<th>Company Description</th>
<th>IBC Code</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Takeout meals-see policy, coding only</td>
<td>5814a10 â€“ Take out meals</td>
</tr>
<tr class="even">
<td>2</td>
<td>Construction of church building extension</td>
<td>1830a20 â€“ Building construction - general contr.</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Construction and renovation of gas stations including installation and removal of underground tanks and related pumps, carwash facilities. Snow clearing.</td>
<td>1782a40 â€“ Underground storage tank - remediation contractors</td>
</tr>
<tr class="even">
<td>â€¦</td>
<td>â€¦</td>
<td>â€¦</td>
</tr>
<tr class="odd">
<td>136 000</td>
<td>Licensed Restaurant</td>
<td>5812a10 â€“ Restaurants - licensed (Not liquor revenue)</td>
</tr>
</tbody>
</table>
</div>
</div>
<aside class="notes">
<ul>
<li><p>Je vous explique ici quel Ã©tait le problÃ¨me Ã  rÃ©soudre.</p></li>
<li><p>On est dans le contexte de lâ€™assurance commerciale, donc lâ€™assurance dâ€™entreprises.</p></li>
<li><p>Lorsquâ€™on assure une entreprise, le souscripteur doit lui assigner un code IBC parmi 1260 codes, ce qui nâ€™est pas toujours Ã©vident parce quâ€™il y a beaucoup de codes, certains codes se ressemblent, et certains sont assez obscurs.</p></li>
<li><p>Le mandat Ã©tait de crÃ©er un outil de suggestion de codes qui permet de faciliter la tÃ¢che du souscripteur.</p></li>
<li><p>Ce quâ€™on a fait en gros, câ€™est quâ€™on a pris un modÃ¨le de langage prÃ©-entrainÃ© quâ€™on a fine-tunÃ© sur nos donnÃ©es. On a ensuite dÃ©veloppÃ© un modÃ¨le de classification Ã  partir de ce modÃ¨le de language, et on a emballÃ© le tout dans une application Shiny facile dâ€™utilisation.</p></li>
<li><p>Jâ€™avais 2 jeux de donnÃ©es Ã  ma disposition. Le premier contient tous les codes et leur description.</p></li>
<li><p>Ce sont des codes qui reprÃ©sente des secteurs de lâ€™industrie.</p></li>
<li><p>Le deuxiÃ¨me contient 136 000 entreprises quâ€™on a assurÃ©es dans le passÃ© avec leur code IBC associÃ©.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sÃ©lecteur-de-codes-ibc-1" class="slide level2">
<h2>SÃ©lecteur de codes IBC</h2>
<h4 id="embeddings-encoder-une-phrase-ou-un-mot-avec-un-vecteur-de-nombres-rÃ©els">Embeddings = Encoder une phrase (ou un mot) avec un vecteur de nombres rÃ©els</h4>

<img data-src="images/embeddings.jpg" class="r-stretch"><p>Les mots/phrases similaires doivent Ãªtre proches dans lâ€™espace dâ€™embedding.</p>
<aside class="notes">
<ul>
<li>Le modÃ¨le de langage quâ€™on a utilisÃ© (comme beaucoup dâ€™autres modÃ¨les de langage) est un modÃ¨le dâ€™embedding.</li>
<li>Câ€™est quoi un embedding? Câ€™est simplement une chaine de caractÃ¨res encodÃ©e sous forme dâ€™un vecteur.</li>
<li>Ã‡a peut Ãªtre nâ€™importe quelle chaine de caractÃ¨res: un mot, une phrase, un document, etc.</li>
<li>Donc un modÃ¨le dâ€™embedding, câ€™est un modÃ¨le qui permet de transformer du texte en nombres.</li>
<li>Important parce quâ€™un ordinateur ne peut pas traiter du texte, seulement des nombres.</li>
<li>Un modÃ¨le dâ€™embedding, câ€™est une fonction qui prend en entrÃ©e du texte et qui renvoie un vecteur en n dimensions.</li>
<li>Et comme vous le savez, un vecteur en n dimensions dÃ©finit un point dans un espace en n dimensions quâ€™on appelle lâ€™espace dâ€™embedding.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sÃ©lecteur-de-codes-ibc-2" class="slide level2">
<h2>SÃ©lecteur de codes IBC</h2>
<h3 id="espace-dembedding">Espace dâ€™embedding</h3>
<ul>
<li>Un bon modÃ¨le dâ€™embedding va positionner les mots (ou phrases) de sens similaire Â« prÃ¨s Â» les uns des autres dans lâ€™espace dâ€™embedding.</li>
<li>Dans cet exemple, nous avons un embedding en 2 dimensions, mais en pratique, les embeddings possÃ¨dent gÃ©nÃ©ralement un nombre beaucoup plus Ã©levÃ© de dimensions.</li>
</ul>

<img data-src="images/embeddings_2.png" class="r-stretch"><aside class="notes">
<ul>
<li>Un bon modÃ¨le dâ€™embeddings, câ€™est un modÃ¨le qui va placer des mots (ou des chaines de caractÃ¨res) de sens similaire proches dans lâ€™espace dâ€™embeddings. Ã€ lâ€™inverse, les mots de sens non-similaire doivent Ãªtre Ã©loignÃ©s.</li>
<li>Ici par exemple, on a obtenu un embedding en 2D pour les mots Â« roi Â», Â« reine Â», Â« pomme Â» et Â« banane Â».</li>
<li>On voit que les embeddings crÃ©Ã©s semblent avoir du sens puisque Â« roi Â» et Â« reine Â», qui ont des sens similaires, sont proches dans lâ€™espace dâ€™embedding. Les embeddings de Â« pomme Â» et Â« banane Â» sont Ã©galement proches, tandis que les 2 fruits et les 2 personnes sont Ã©loignÃ©s.</li>
<li>Ici embedding trÃ¨s simple en 2D mais habituellement, on a beaucoup plus de dimensions que Ã§a.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sÃ©lecteur-de-codes-ibc-3" class="slide level2">
<h2>SÃ©lecteur de codes IBC</h2>
<h3 id="interprÃ©tation-des-dimensions">Â« InterprÃ©tation Â» des dimensions</h3>
<p><br> <br> <br> <br></p>
<ul>
<li>Les valeurs des embeddings peuvent Ãªtre imaginÃ©es Ã©tant des Â« concepts Â».</li>
<li>Par exemple, une des dimensions pourraient Ãªtre le degrÃ© de Â« fÃ©linitÃ© Â».</li>
<li>En pratique, ces concepts sont obscures et pas humainement identifiables.</li>
</ul>
<p><img data-src="images/embeddings_as_concepts.png" class="absolute" style="top: 100px; right: 0px; "></p>
<aside class="notes">
<ul>
<li>On peut avoir une pseudo-interprÃ©tation pour les dimensions des embeddings.</li>
<li>Donc ici, on a des embeddings en 7 dimensions de plusieurs mots, et on peut sâ€™imaginer que chaque dimension correspond Ã  un concept.</li>
<li>Donc on peut sâ€™imaginer que la dimension 1 correspond au degrÃ© de Â« vie Â», la dimension 2 correspond au degrÃ© de Â« fÃ©linitÃ© Â», la troisiÃ¨me au degrÃ© dâ€™humanitÃ©, etc.</li>
<li>Par exemple, le chat et le chaton ont un haut degrÃ© de fÃ©linitÃ©, tandis que la maison a un faible degrÃ© de fÃ©linitÃ©.</li>
<li>En pratique par contre, on ne peut pas vraiment associer chaque dimension Ã  un concept quâ€™on peut interprÃ©ter.</li>
<li>Par contre, Ã§a reste que chaque dimension est associÃ©e Ã  un concept dont le modÃ¨le peut utiliser.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sÃ©lecteur-de-codes-ibc-4" class="slide level2">
<h2>SÃ©lecteur de codes IBC</h2>
<h3 id="bert-fournit-des-embeddings-de-mots-contextualisÃ©s-de-haute-qualitÃ©">BERT: fournit des embeddings de mots contextualisÃ©s de haute qualitÃ©</h3>
<p><img data-src="images/bert_puppet.png" class="absolute" style="top: 164px; right: 30px; width: 350px; "></p>
<div width="100%">
<p><br></p>
<ul>
<li>BERT: <strong>B</strong>idirectional <strong>E</strong>ncoder <strong>R</strong>epresentations from <strong>T</strong>ransformers</li>
<li>DÃ©veloppÃ© par <strong><span style="color:#174EA6;">G</span><span style="color:#A50E0E;">o</span><span style="color:#FBBC04;">o</span><span style="color:#174EA6;">g</span><span style="color:#0D652D;">l</span><span style="color:#A50E0E;">e</span></strong> en 2018</li>
</ul>
</div>
<p><br></p>
<div class="columns">
<div class="column" style="width:33%;">
<p><span class="three-green-blocks">PrÃ©-entrainÃ© sur beaucoup de texte</span></p>
<div style="height:70px;">

</div>
<div class="ul-font-size-small">
<ul>
<li>BERT base: BooksCorpus (~800M mots)<br>
</li>
<li>BERT large: WikipÃ©dia anglais (~2500M mots)</li>
<li>Permet dâ€™obtenir de bonnes performances mÃªme sans fine-tuning</li>
</ul>
</div>
</div><div class="column" style="width:33%;">
<p><span class="three-green-blocks">Embeddings contextualisÃ©s</span></p>
<div style="height:70px;">

</div>
<div class="ul-font-size-small">
<ul>
<li>Contexte bidirectionnel<br>
</li>
<li>Dâ€™anciens modÃ¨les comme Word2Vec et GloVe ne prenaient pas du tout en compte le contexte</li>
</ul>
</div>
</div><div class="column" style="width:33%;">
<p><span class="three-green-blocks">Open-source</span></p>
<div style="height:70px;">

</div>
<div class="ul-font-size-small">
<ul>
<li>On peut le tÃ©lÃ©charger gratuitement sur <a href="HuggingFace.co">HuggingFace.co</a></li>
<li>On peut le fine-tuner sur une tÃ¢che particuliÃ¨re</li>
</ul>
</div>
</div></div>
<aside class="notes">
<ul>
<li><p>Le modÃ¨le qui sert de base Ã  notre modÃ¨le dâ€™embedding de phrases sâ€™appelle BERT.</p></li>
<li><p>Câ€™est un modÃ¨le dâ€™embeddings qui a Ã©tÃ© dÃ©veloppÃ© par Google.</p></li>
<li><p>Câ€™est un modÃ¨le assez puissant pour 2 raisons principales.</p></li>
<li><p>PremiÃ¨rement, il a Ã©tÃ© prÃ©-entrainÃ© sur Ã©normÃ©ment de texte (sur plus de 3 milliards de mots), ce qui fait quâ€™il peut Ãªtre utilisÃ© directement sans Ãªtre fine-tunÃ©.</p></li>
<li><p>DeuxiÃ¨mement, câ€™est un modÃ¨le basÃ© sur lâ€™architecture transformer, qui permet dâ€™obtenir des embeddings contextualisÃ©s de haute qualitÃ©, tout en Ã©tant hautement paralÃ©llisable.</p></li>
<li><p>Câ€™est un modÃ¨le open-source, donc nâ€™importe qui peut le tÃ©lÃ©charger et lâ€™utiliser directement, ou bien le fine-tuner sur une tÃ¢che particuliÃ¨re.</p></li>
<li><p>Jâ€™ajouterais Ã©galement que BERT est relativement lÃ©ger avec ses 110 millions de paramÃ¨tres pour la version de base, ce qui permet de rapidement obtenir des embeddings, mÃªme sur un laptop.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sÃ©lecteur-de-codes-ibc-5" class="slide level2">
<h2>SÃ©lecteur de codes IBC</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>PrÃ©-entrainement</strong><br>
<img data-src="images/pretraining.png" class="quarto-figure quarto-figure-center" style="width:80.0%"></p>
</div><div class="column" style="width:50%;">
<p><strong>Fine-tuning</strong><br>
<img data-src="images/finetuning.png" class="quarto-figure quarto-figure-center" style="width:78.0%"></p>
</div></div>
<aside class="notes">
<ul>
<li><p>Donc je vous ai parlÃ© de prÃ©-entrainement et de fine-tuning. Ã€ quoi Ã§a correspond exactement?</p></li>
<li><p>Le prÃ©-entrainement, Ã§a se rÃ©sume Ã  faire apprendre la langue au modÃ¨le. Donc les patterns de la langue, la grammaire, la syntaxe, etc.</p></li>
<li><p>Pour ce faire, on va entrainer le modÃ¨le sur des grandes quantitÃ©s de texte. Donc par exemple, sur WikipÃ©dia au grand complet.</p></li>
<li><p>Et pour BERT, la mÃ©thode utilisÃ©e pour le prÃ©-entrainer sâ€™appelle <em>masked language modeling</em>. Ã‡a consiste Ã  cacher certain mots au modÃ¨le de maniÃ¨re alÃ©atoire, et on demande au modÃ¨le de deviner le mot. On a ensuite une fonction de perte qui va punir le modÃ¨le pour ses erreurs, et avec la rÃ©tro-propagation et la descente de gradient, on peut aller mettre Ã  jour les poids du modÃ¨le.</p></li>
<li><p>On peut utiliser le modÃ¨le prÃ©-entrainÃ© directement, mais on va avoir de meilleures performances si on le fine-tune sur notre tÃ¢che Ã  accomplir.</p></li>
<li><p>Donc dans lâ€™Ã©tape du fine-tuning, on prend le modÃ¨el prÃ©-entrainÃ© et on lâ€™entraine de nouveau sur notre jeu de donnÃ©es.</p></li>
<li><p>Par exemple, ici on a fine-tunÃ© BERT sur une tÃ¢che de classification de courriels (pourriel ou courriel lÃ©gitime).</p></li>
<li><p>On a ajoutÃ© une tÃªte de classification au modÃ¨le, qui permet de transformer la sortie de BERT en probabilitÃ© dâ€™Ãªtre un pourriel.</p></li>
<li><p>On va ensuite aller faire lâ€™entrainement en utilisant un jeu de donnÃ©es de courriels Ã©tiquetÃ©s Â« spam Â» ou Â« not-spam Â».</p></li>
<li><p>Donc en gros, dans cette Ã©tape de fine-tuning, les poids du modÃ¨le vont Ãªtre modifiÃ©s de telle sorte que la tÃ¢che Ã  accomplir est optimisÃ©e.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sÃ©lecteur-de-codes-ibc-6" class="slide level2">
<h2>SÃ©lecteur de codes IBC</h2>
<h3 id="fine-tuner-le-modÃ¨le-prÃ©-entrainÃ©">Fine-tuner le modÃ¨le prÃ©-entrainÃ©</h3>
<p>On gÃ©nÃ¨re dâ€™abord des <span style="color: #007d57;"><strong>paires positives</strong></span> et des <span style="color: #650b22;"><strong>paires nÃ©gatives</strong></span>.</p>
<div class="ul-font-size-medium">
<ul>
<li><span style="color: #007d57;"><strong>paire positive</strong></span>: description de lâ€™entreprise + description de son IBC code <span style="color: #007d57;"><strong>correspondant</strong></span></li>
<li><span style="color: #650b22;"><strong>paire nÃ©gative</strong></span>: description de lâ€™entreprise + description dâ€™un IBC code <span style="color: #650b22;"><strong>non-correspondant</strong></span></li>
</ul>
</div>
<div style="font-size: 24px;">
<table class="caption-top">
<colgroup>
<col style="width: 8%">
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Pair ID</th>
<th>Company Description</th>
<th>IBC Code Description</th>
<th>Label</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Construction of church building extension</td>
<td>Building construction - general contr.</td>
<td><span style="color: #007d57;"><strong>Positive pair</strong></span></td>
</tr>
<tr class="even">
<td>2</td>
<td>Construction of church building extension</td>
<td>Take out meals</td>
<td><span style="color: #650b22;"><strong>Negative pair</strong></span></td>
</tr>
<tr class="odd">
<td>3</td>
<td>Licensed restaurant</td>
<td>Restaurants - licensed (Not liquor revenue)</td>
<td><span style="color: #007d57;"><strong>Positive pair</strong></span></td>
</tr>
<tr class="even">
<td>4</td>
<td>Licensed restaurant</td>
<td>Building construction - general contr.</td>
<td><span style="color: #650b22;"><strong>Negative pair</strong></span></td>
</tr>
<tr class="odd">
<td>â€¦</td>
<td>â€¦</td>
<td>â€¦</td>
<td>â€¦</td>
</tr>
</tbody>
</table>
</div>
<p>On va ensuite entrainer le modÃ¨le Ã  rapprocher les <span style="color: #007d57;"><strong>paires positives</strong></span> et Ã  Ã©loigner les <span style="color: #650b22;"><strong>paires nÃ©gatives</strong></span> en utilisant une fonction de perte et la descente de gradient.</p>
<aside class="notes">
<ul>
<li>La premiÃ¨re Ã©tape est de se crÃ©er un jeu de donnÃ©es Ã©tiquetÃ©. On va se crÃ©er autant de paires positives que de paires nÃ©gatives.</li>
<li>Une paire positive, câ€™est une description dâ€™entreprise couplÃ©e avec la description de son code IBC correspondant.</li>
<li>Une paire nÃ©gative, câ€™est une description dâ€™entreprise couplÃ©e avec une description de code IBC non-correspondant.</li>
<li>Lâ€™algorithme dâ€™entrainement est alors dÃ©clenchÃ© pour modifier les paramÃ¨tres du modÃ¨le de telle sorte que les entreprises sont rapprochÃ©es de leur IBC code correspondant (et Ã©loignÃ©es de leurs codes IBC non-correspondants).</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sÃ©lecteur-de-codes-ibc-7" class="slide level2">
<h2>SÃ©lecteur de codes IBC</h2>
<h3 id="fonctionnement-du-modÃ¨le">Fonctionnement du modÃ¨le</h3>
<p>Partons avec cette description dâ€™entreprise cible: <br> <span style="color: #FFFFFF; background-color: #007d57; border-radius: 5px; padding: 2px 5px;">Small place where they serve coffee and food such as pastries</span></p>
<p><br></p>
<p><strong>Comment procÃ¨de-t-on pour suggÃ©rer des codes IBC?</strong></p>
<div class="ol-font-size-medium">
<ol type="1">
<li>On obtient un <strong>embedding</strong> reprÃ©sentant la <strong>description dâ€™entreprise cible</strong> en utilisant notre modÃ¨le fine-tunÃ©.</li>
<li>On a prÃ©alablement fait de mÃªme pour les <strong>136 000 entreprises</strong> de notre jeu de donnÃ©es.</li>
<li>On calcule la <strong>distance</strong> entre lâ€™<strong>entreprise cible</strong> et toutes les <strong>entreprises de notre jeu de donnÃ©es</strong>.</li>
<li>On trouve les <strong>k entreprises les plus proches</strong> (algorithme des <span class="math inline">\(k\)</span> plus proches voisins).</li>
<li>On suggÃ¨re les <strong>codes les plus frÃ©quents</strong> dans les <span class="math inline">\(k\)</span> entreprises voisines.</li>
</ol>
</div>
<p><img data-src="images/sbert_2.png" class="absolute" style="top: 160px; right: 30px; width: 170px; "></p>
</section>
<section id="sÃ©lecteur-de-codes-ibc-8" class="slide level2">
<h2>SÃ©lecteur de codes IBC</h2>
<h3 id="application-shiny"><a href="https://rstudiotest.cgic.ca/ibc_code_selector_app/">Application Shiny</a></h3>
<!-- ![](images/app_cap.png){.absolute width=350 top=170 left=0} -->

<img data-src="images/app_cap.png" width="420" class="r-stretch"></section>
<section id="sÃ©lecteur-de-codes-ibc-9" class="slide level2" data-visibility="uncounted">
<h2>SÃ©lecteur de codes IBC</h2>
<h3 id="architecture-de-bert-une-pile-dencodeurs-transformer">Architecture de BERT: une pile dâ€™encodeurs Â« transformer Â»</h3>
<ul>
<li>BERT est un rÃ©seau de neurones composÃ© de 12 ou 24 modules de type Â«&nbsp;transformer&nbsp;Â».</li>
<li>BERT Â« base Â»: 110 millions de paramÃ¨tres.</li>
</ul>
<p><span class="absolute" style="top: 650px; left: 50px; ">Transformer (ENCODER)</span></p>
<p><img data-src="images/transformer-encoder.png" class="absolute" style="top: 265px; left: 50px; width: 200px; "></p>
<p><img data-src="images/bert-base-bert-large-encoders.png" class="absolute" style="top: 240px; left: 500px; width: 700px; "></p>
<aside class="notes">
<ul>
<li>Lâ€™architecture de BERT ressemble Ã  Ã§a. En gros, câ€™est un pile de blocs Â« transformer Â», plus prÃ©cisÃ©ment la partie Â« encodeuse Â» seulement.</li>
<li>La version de base contient 12 de ces blocs, tandis que la grande version en a 24.</li>
<li>Donc un bloc transformer, Ã§a ressemble Ã  Ã§a. En gros, Ã§a reÃ§oit un input et Ã§a va le passer Ã  travers plusieurs fonctions mathÃ©matiques, dont lâ€™attention multi-tÃªte, qui est la clÃ© pour comprendre le contexte de mots (je vais parler du mÃ©canisme dâ€™attention dans la prochaine slide).</li>
<li>Donc ce que le modÃ¨le fait en gros, câ€™est quâ€™il va partir dâ€™un embedding fixe non-contextualisÃ© (disons le embedding du mot Â« apple Â») quâ€™il va passer Ã  travers tous les blocs transformer pour obtenir un embedding de Â« apple Â» contextualisÃ©.</li>
<li>Et le rÃ´le des blocs transformers en fait, câ€™est de modifier le embedding de Â« apple Â» en utilisant les embeddings de tous les mots qui sont autour du mot Â« apple Â».</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sÃ©lecteur-de-codes-ibc-10" class="slide level2" data-visibility="uncounted">
<h2>SÃ©lecteur de codes IBC</h2>
<h3 id="mÃ©canisme-dattention-permet-de-contextualiser-les-embeddings">MÃ©canisme dâ€™attention: permet de contextualiser les embeddings</h3>
<div class="columns">
<div class="column" style="width:40%;">
<p><img data-src="images/attention.png" style="width:80.0%"></p>
</div><div class="column" style="width:60%;">
<p><br> <br> <img data-src="images/attention-luis.png" style="width:100.0%"></p>
</div></div>
<aside class="notes">
<ul>
<li>Le mÃ©canisme dâ€™attention, Ã§a a Ã©tÃ© dÃ©veloppÃ© en 2017 dans lâ€™article Â« Attention is all you need Â», et câ€™est grÃ¢ce Ã  Ã§a quâ€™on a aujourdâ€™hui des grands modÃ¨les de langage comme BERT, GPT, Llama ou Gemini.</li>
<li>En plus de bien capturer le contexte des mots, câ€™est une architecture qui est hautement parallÃ©lisable et qui permet donc dâ€™entrainer rapidement les modÃ¨les si on a un GPU.</li>
<li>Donc comme je vous disais, câ€™est le mÃ©canisme dâ€™attention dans le transformer qui permet de modifier les embeddings des mots en utilisant les embeddings des mots voisins, et Ã§a fait Ã§a en utilisant un mÃ©canisme assez complexe.</li>
<li>Donc supposons quâ€™on a un embedding non-contextualisÃ© pour le mot Â« apple Â». Câ€™est un peu tannant, parce que Â« apple Â» peut dÃ©signer soit le fruit, soit la compagnie.</li>
<li>Ce que lâ€™attention fait, câ€™est quâ€™elle va faire bouger lâ€™embedding de Â« apple Â» en utilisant les mots autour.</li>
<li>Par exemple, dans la phrase Â« please buy me an apple and an orange Â», on a le mot Â« orange Â» qui va tirer le mot Â« apple Â» vers lui, ce qui va nous crÃ©er un embedding de Â« apple Â» spÃ©cialement fait pour cette phrase.</li>
<li>De la mÃªme maniÃ¨re, dans la phrase Â« apple unveiled the new phone Â», lâ€™embedding de Â« apple Â» va Ãªtre tirÃ© vers lâ€™embedding du mot Â« phone Â», et donc dans cette phrase, Â« apple Â» a plus de chance dâ€™Ãªtre interprÃ©tÃ© comme Ã©tant la compagnie Apple.</li>
<li>Il faut noter que Â« apple Â» (ainsi que tous les autres mots dans la fenÃªtre de contexte) va Ãªtre influencÃ© par tous les autres mots dans la fenÃªtre de contexte.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sÃ©lecteur-de-codes-ibc-11" class="slide level2" data-visibility="uncounted">
<h2>SÃ©lecteur de codes IBC</h2>
<h4 id="sentence-bert-modifier-bert-pour-encoder-des-phrases-au-lieu-des-mots">Sentence-BERT: modifier BERT pour encoder des phrases au lieu des mots</h4>
<div class="ul-font-size-medium">
<ul>
<li>Architecture <strong>siamoise</strong> Ã  lâ€™entrainement utilisant un modÃ¨le <strong>BERT prÃ©-entrainÃ©</strong> (les poids sont identiques dans les 2 blocs BERT).</li>
<li>La couche de <strong>pooling</strong> permet dâ€™obtenir un embedding de phrase Ã  partir des embeddings de mots.</li>
<li>EntrainÃ© sur le corpus <a href="#/id-SNLI">SNLI</a>: 570 000 paires de phrases annotÃ©es <span style="color:#A50E0E;"><strong>contradiction</strong></span>, <span style="color:#0D652D;"><strong>implication</strong></span> ou <span style="color: #a8aabc;"><strong>neutre</strong></span>.</li>
</ul>
</div>
<div class="columns">
<div class="column" style="text-align: center;">
<p><span style="text-decoration: underline;">Ã€ lâ€™entrainement</span></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/sbert_1.png" class="quarto-figure quarto-figure-center" width="300"></p>
</figure>
</div>
</div><div class="column" style="text-align: center;">
<p><span style="text-decoration: underline;">Ã€ lâ€™infÃ©rence</span></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/sbert_2.png" class="quarto-figure quarto-figure-center" width="130"></p>
</figure>
</div>
</div></div>
<p><span class="absolute" style="font-size: 17px;left: 50%; bottom: -30px; ">Figures tirÃ©es de <a href="https://www.oreilly.com/library/view/hands-on-large-language/9781098150952/">Hands-On Large Language Models â€“ Jay Alammar et Maarten Grootendorst</a>Â»</span></p>
<aside class="notes">
<ul>
<li><p>Donc Ã§a nous amÃ¨ne Ã  SBERT, qui est une modification de BERT pour faire des embeddings de phrases.</p></li>
<li><p>Câ€™est un rÃ©seau siamois (Ã  lâ€™entrainement) qui contient 2 modÃ¨les BERT avec les poids liÃ©s (en fait, câ€™est 2 copies du mÃªme modÃ¨le).</p></li>
<li><p>On a une couche de pooling qui permet de transformer les embeddings de mots en embedding de phrase.</p></li>
<li><p>Donc on prend BERT prÃ©-entrainÃ© et la couche de pooling quâ€™on arrange en un rÃ©seau siamois, et on va aller entrainer cette architecture sur un jeu de donnÃ©es de paires de phrases annotÃ©es contradiction, implication, ou neutre.</p></li>
<li><p>Donc on prend chacune des 2 phrases, quâ€™on va passer au modÃ¨le BERT. Ensuite, la sortie de BERT va Ãªtre donnÃ©e Ã  la couche de pooling, qui va nous sortir un embedding de phrase. Ensuite, on va concatÃ©ner les 2 embeddings en plus de la diffÃ©rence absolue Ã©lÃ©ment par Ã©lÃ©ment, et câ€™est ce vecteur qui va Ãªtre utilisÃ© pour la classification entre Â« contradiction Â», Â« implication Â» ou Â« neutre Â».</p></li>
<li><p>Une fois le modÃ¨le entrainÃ©, on peut se dÃ©barasser de lâ€™architecture siamoise et garder seulement BERT + pooling.</p></li>
<li><p>Donc en fait, ce qui amÃ©liore les embeddings de phrase, câ€™est vraiment lâ€™Ã©tape dâ€™entrainement sur les paires de phrases.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="sÃ©lecteur-de-codes-ibc-12" class="slide level2" data-visibility="uncounted">
<h2>SÃ©lecteur de codes IBC</h2>
<h3 id="tÃ©lÃ©charger-le-modÃ¨le-prÃ©-entrainÃ©">TÃ©lÃ©charger le modÃ¨le prÃ©-entrainÃ©</h3>
<p><img data-src="images/codeimage-snippet_21.svg" class="absolute" style="top: 100px; left: -60px; width: 800px; "></p>
<p><img data-src="images/encode_snippet.svg" class="absolute" style="top: 100px; right: 0px; width: 600px; "></p>
<div style="margin-top:310px; font-size: 25px;">
<table class="caption-top">
<colgroup>
<col style="width: 42%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 7%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Phrase</th>
<th>dim_1</th>
<th>dim_2</th>
<th>â€¦</th>
<th>dim_768</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>That is a happy person</td>
<td>-0.0203</td>
<td>-0.0104</td>
<td>â€¦</td>
<td>-0.0053</td>
</tr>
<tr class="even">
<td>That is a happy dog</td>
<td>-0.0196</td>
<td>-0.0323</td>
<td>â€¦</td>
<td>-0.0274</td>
</tr>
<tr class="odd">
<td>That is a very happy person</td>
<td>-0.0136</td>
<td>0.0043</td>
<td>â€¦</td>
<td>-0.0054</td>
</tr>
<tr class="even">
<td>Today is a sunny day</td>
<td>-0.0075</td>
<td>-0.0023</td>
<td>â€¦</td>
<td>0.0078</td>
</tr>
</tbody>
</table>
</div>
<p>On peut tester le modÃ¨le <a href="https://huggingface.co/sentence-transformers/all-mpnet-base-v2">ici</a>.</p>
<aside class="notes">
<ul>
<li>On peut facilement tÃ©lÃ©charger le modÃ¨le Ã  partir du site HuggingFace en utilisant la librairie Â« sentence_transformers Â».</li>
<li>Le modÃ¨le quâ€™on utilise nâ€™est pas exactement le SBERT original, mais quelque chose de trÃ¨s similaire. Câ€™est le modÃ¨le de base, donc celui avec 12 blocs transformers et 110 millions de paramÃ¨tres.</li>
<li>On peut commencer Ã  lâ€™utiliser directement pour obtenir des embeddings de phrases avec la mÃ©thode Â« encode Â».</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="imagerie" class="slide level2" data-visibility="uncounted">
<h2>Imagerie</h2>
<p>Estimer le coÃ»t de reconstruction des maisons.</p>
<p><video data-src="images/imagerie.mp4" width="950" controls=""><a href="images/imagerie.mp4">Video</a></video></p>
<p><span style="margin-left:60px;">PrÃ©cision de +/- 50k$</span></p>
</section>
<section id="cartes-dinondations" class="slide level2" data-visibility="uncounted">
<h2>Cartes dâ€™inondations</h2>
<p><br></p>
<p>AmÃ©liorer les cartes dâ€™inondation fournies par JBL, car celles-ci Â« pensaient Â» que les forÃªt sont des blocs qui ne laissent pas passer lâ€™eau.</p>
<div class="colums">
<div class="column" style="width:49%;">
<p>Avant</p>
<p><img data-src="images/avant.png"></p>
</div><div class="column" style="width:49%;">
<p>AprÃ¨s</p>
<p><img data-src="images/apres.png"></p>
</div></div>
</section>
<section id="autres-projets" class="slide level2" data-visibility="uncounted">
<h2>Autres projets</h2>
<p><br></p>
<ul>
<li>DÃ©velopper un modÃ¨le de tarification tÃ©lÃ©matique pour le nouveau produit dâ€™assurance tÃ©lÃ©matique.</li>
<li>DÃ©velopper une application Shiny se basant sur le simulateur dâ€™innondations pour mieux gÃ©rer notre risque de concentration.</li>
<li>AmÃ©liorer le processus des indiquÃ©s en utilisant la thÃ©orie des valeurs extrÃªmes pour estimer une pÃ©riode de retour pour les grosses rÃ©clamations.</li>
<li>Â« Fuzzy matching Â» pour lâ€™Ã©quipe dâ€™analytique de fraudes.</li>
</ul>
</section>
<section id="les-dÃ©fis-de-lindustrie" class="slide level2" data-visibility="uncounted">
<h2>Les dÃ©fis de lâ€™industrie</h2>
<p><br> <strong>Dans aucun ordre particulier:</strong></p>
<ul>
<li>Fraude</li>
<li>Catastrophes naturelles: inondations, sÃ©ismes, feux de forÃªt, etc.</li>
<li>ModÃ©lisation des grosses pertes</li>
<li>Assurance tÃ©lÃ©matique</li>
<li>Traitement de langage naturel</li>
<li>Etc.</li>
</ul>
<p><img data-src="images/icon_flood.png" class="absolute" style="bottom: 0px; right: 10%; width: 400px; "></p>

</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="images/logo_blue_2.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://github.com/francisduval/presentation_uqam_3_decembre_2024">https://github.com/francisduval/presentation_uqam_3_decembre_2024</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 720,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <!-- Javascript function allowing to hide footer on slides other than title slide -->

    <script type="text/javascript" charset="utf-8">

      function add_custom_footer() {

        let title_slide = document.querySelector("section#title-slide");

        let title_slide_footer = title_slide.getAttribute('data-footer');

        let footer = document.querySelector('div.footer p');

        let global_footer_text = footer.innerHTML;

    

        if (title_slide.classList.contains('present')) {

          footer.innerHTML = title_slide_footer;

        }

    

        Reveal.on( 'slidechanged' , event => {

            if (event.currentSlide.matches('#title-slide')) {

              footer.innerHTML = global_footer_text;

            } else {

              footer.innerHTML = title_slide_footer;

            }

          });

      };

    

      window.addEventListener("load", (event) => {

        add_custom_footer();

      });

    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "CopiÃ©");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "CopiÃ©");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>